<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>フロントエンドの練習</title>
    <link href="./css/bootstrap.min.css" rel="stylesheet">
    <link href="./css/schedule.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Sacramento" rel="stylesheet">
    <script src="./js/bootstrap.bundle.min.js" ></script>

    <script>
        const removeClick = (event) => {
            event.currentTarget.parentNode.parentNode.remove();
        }

        const addClick = () => {
            if (document.getElementById("add_date").value == ""){
                alert("年/月/日は入力必須です")
                return;
            }
            
            if (document.getElementById("add_text").value == ""){
                alert("内容は入力必須です")
                return;
            }
           
            // 行TR
            var newRow = document.createElement("tr");
            // 日付列
            var dateTd = document.createElement("td");
            // 内容列
            var contentTd = document.createElement("td");
            // 削除列
            var removeTd = document.createElement("td");
            // 削除ボタン
            var removeBotton = document.createElement("input");
            removeBotton.setAttribute("type","button");
            removeBotton.value = "削除";
            removeBotton.onclick = removeClick;

            // TDの中身を設定
            dateTd.innerText = document.getElementById("add_date").value;
            contentTd.innerText = document.getElementById("add_text").value;
            removeTd.appendChild(removeBotton);

            // TRへTDを追加
            newRow.appendChild(dateTd);
            newRow.appendChild(contentTd);
            newRow.appendChild(removeTd);

            document.getElementById("table_body").appendChild(newRow);
        }
        window.onload = () => {
            document.getElementById("add_button").onclick = addClick;
        }

    </script>
</head>

<body>
    <!-- <h1>My Schedule</h1> -->
    <h1>スケジュール管理表</h1>
    <div>
        <input type="date" id="add_date" />
        <input type="text" id="add_text" />
        <input type="button" id="add_button" value="追加" />
    </div>
    
    <p> </p>

    <table class="table">
        <thead>
            <tr>
                <th class="col">日付</th>
                <th class="col-8">内容</th>
                <th class="col">削除</th>
            </tr>
        </thead>

        <tbody id="table_body">

        </tbody>
    </table>
</body>

</html>